BUILD_NAME_OPTION = _FREQ_200
Running maxjc ...
Using maxj batch compiler.
jar: /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/ecj.jar
MAXAPPJCP=.:/mnt/ccnas2/bdp/rz3515/projects/deacon/src:/mnt/ccnas2/bdp/rz3515/projects/deacon/test:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar \
	MAXAPPPKG=single_conv MAXSOURCEDIRS=../../src:/mnt/ccnas2/bdp/rz3515/projects/deacon/src \
	maxJavaRun -v -m 8192 SingleConvManager \
	DFEModel=MAIA maxFileName=SingleConv target='DFE_SIM' enableMPCX=false \
	FREQ=200 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/single_conv/data/data-single-conv.txt 
]0; maxJavaRun: SingleConvManager DFEModel=MAIA maxFileName=SingleConv target=DFE_SIM enableMPCX=false FREQ=200 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/single_conv/data/data-single-conv.txt maxJavaRun : Execute Java program with Maxeler environment

Input classpath     : 
MaxCompiler JAR     : /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/MaxCompiler.jar
                      (from MAXCOMPILERDIR)
MAXAPPJCP           : .:/mnt/ccnas2/bdp/rz3515/projects/deacon/src:/mnt/ccnas2/bdp/rz3515/projects/deacon/test:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar
MAXSOURCEDIRS       : ../../src:/mnt/ccnas2/bdp/rz3515/projects/deacon/src

.maxJavaRun present : No
Custom Param file   : None
MAXAPPPKG           : single_conv
MAXJVMMEM           : 
MAXEMMAJCP          : 
MAXEMMARUN          : 
JACOCO_AGENT        : 
JACOCO_AGENT_OPTIONS: 

----------------------------------------------------------
Java class to run   : single_conv.SingleConvManager
Class arguments     : DFEModel=MAIA maxFileName=SingleConv target=DFE_SIM enableMPCX=false FREQ=200 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/single_conv/data/data-single-conv.txt
Execution classpath : /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/MaxCompiler.jar:
                      .:
                      /mnt/ccnas2/bdp/rz3515/projects/deacon/src:
                      /mnt/ccnas2/bdp/rz3515/projects/deacon/test:
                      /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:
                      /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar
JVM memory limit    : 8192 MB
----------------------------------------------------------

Thu 20:51: MaxCompiler version: 2021.1
Thu 20:51: Build "SingleConv" start time: Thu Dec 23 20:51:55 GMT 2021
Thu 20:51: Main build process running as user rz3515 on host cccad5.doc.ic.ac.uk
Thu 20:51: Build location: /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/SingleConv_MAIA_DFE_SIM_FREQ_200
Thu 20:51: Detailed build log available in "_build.log"
Thu 20:51: 
Thu 20:51: ENGINE BUILD PARAMETERS
Thu 20:51: 	              Build name: SingleConv_MAIA_DFE_SIM_FREQ_200                                                                  
Thu 20:51: 	             maxFileName: SingleConv                                                                                        
Thu 20:51: 	                  target: DFE_SIM                                                                                           
Thu 20:51: 	                DFEModel: MAIA                                                                                              
Thu 20:51: 	              enableMPCX: false                                                                                             
Thu 20:51: 	                bitWidth: 32                                                                                                
Thu 20:51: 	                     WBW: 32                                                                                                
Thu 20:51: 	                   DTYPE: fixed                                                                                             
Thu 20:51: 	           NUM_FRAC_BITS: 8                                                                                                 
Thu 20:51: 	                      PF: 1                                                                                                 
Thu 20:51: 	                      PC: 1                                                                                                 
Thu 20:51: 	                      PK: 1                                                                                                 
Thu 20:51: 	                       H: 1                                                                                                 
Thu 20:51: 	                       W: 1                                                                                                 
Thu 20:51: 	                       C: 1                                                                                                 
Thu 20:51: 	                       F: 1                                                                                                 
Thu 20:51: 	                       K: 1                                                                                                 
Thu 20:51: 	                     PAD: 0                                                                                                 
Thu 20:51: 	                       S: 1                                                                                                 
Thu 20:51: 	                     SEQ: 0                                                                                                 
Thu 20:51: 	                    FREQ: 200                                                                                               
Thu 20:51: 	                USE_DRAM: false                                                                                             
Thu 20:51: 	                 USE_BNN: false                                                                                             
Thu 20:51: 	            USE_WINOGRAD: false                                                                                             
Thu 20:51: 	WINOGRAD_WEIGHTS_OFFLINE: false                                                                                             
Thu 20:51: 	   NUM_COEFF_FIFO_SPLITS: 1                                                                                                 
Thu 20:51: 	                   DEBUG: false                                                                                             
Thu 20:51: 	           COEFF_ON_CHIP: false                                                                                             
Thu 20:51: 	              INIT_COEFF: false                                                                                             
Thu 20:51: 	              COEFF_FILE: /mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/single_conv/data/data-single-conv.txt
Thu 20:51: Generating kernel conv0 ...
Thu 20:51: Instantiating kernel "conv0"
Thu 20:51: T = dfeFix(8, 8, TWOSCOMPLEMENT)
Thu 20:51: WT = dfeFix(8, 8, TWOSCOMPLEMENT)
Thu 20:51: WT = dfeFix(8, 8, TWOSCOMPLEMENT)
Thu 20:51: coeffOnChip = true
Thu 20:51: Input height = 32, output height = 32, pad = 1
Thu 20:51: Counter H = 34 W = 34
Thu 20:51: oh is dfeFix(32, 0, TWOSCOMPLEMENT)
Thu 20:51: ow is dfeFix(32, 0, TWOSCOMPLEMENT)
Thu 20:51: Read for key = conv0 depth = 32
Thu 20:51: ROM created for conv0 of depth 32 and type {DFEVectorType: 9 x dfeFix(8, 8, TWOSCOMPLEMENT)}: com.maxeler.maxcompiler.v2.kernelcompiler.stdlib.memory.Memory@9d5509a
Thu 20:51: Ifmap buffer configuration 8192 x 1
Thu 20:51: loop = false
Thu 20:51: Building line buffer for "conv0" ...
Thu 20:51: Line buffer shape 3 x 32, produces 1 number of 3 x 3 tiles per cycle
Thu 20:51: Line buffer input vector size: 1, output vector size: 9.
Thu 20:51: Number of separated line buffers: 1
Thu 20:51: Initialising line buffer kernel with 3 x 34 x 1
Thu 20:51: Size of line buffer output: 3
Thu 20:51: Number of line buffer output chunks: 3
Thu 20:51: Connecting outputs from chunk (#000) ...
Thu 20:51: Connecting outputs from chunk (#001) ...
Thu 20:51: Connecting outputs from chunk (#002) ...
Thu 20:51: Building the CORE arithmetic unit for "conv0" ...
Thu 20:51: WT = dfeFix(8, 8, TWOSCOMPLEMENT)
Thu 20:51: CORE ifmap vector size: 9
Thu 20:51: CORE coefficient vector size: 9
Thu 20:51: CORE ofmap vector size: 1
Thu 20:51: [ConvLayerOfmapBuffer] depth =  1024 addr_bits =    10
Thu 20:51: Connecting to output: ofmap
Thu 20:51: Compiling kernel "conv0"
Thu 20:51: 
Thu 20:51: Generating padding kernels for DRAM access
Thu 20:51: Instantiating kernel "ifmap_unpad"
Thu 20:51: Compiling kernel "ifmap_unpad"
Thu 20:51: 
Thu 20:51: Instantiating kernel "ofmap_pad"
Thu 20:51: Compiling kernel "ofmap_pad"
Thu 20:51: 
Thu 20:51: Setting up stream connections for conv0
Thu 20:51: DRAM will be used to build the design
Thu 20:51: Setup streams for kernel "conv0"
Thu 20:51: # cycles:       36992
Thu 20:51: # ifmap stream: 4096
Thu 20:51: # coeff stream: 288
Thu 20:51: # ofmap stream: 8192
Thu 20:51: coeff vec size: 9
Thu 20:51: coeff stream bit width: 144
Thu 20:51: coeff stream chunk size: 9
Thu 20:51: Running back-end simulation build (3 phases)
Thu 20:51: (1/3) - Prepare MaxFile Data (GenerateMaxFileDataFile)
Thu 20:51: (2/3) - Compile Simulation Modules (SimCompilePass)
Thu 20:52: (3/3) - Generate MaxFile (AddSimObjectToMaxFilePass)
Thu 20:52: MaxFile: /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/SingleConv_MAIA_DFE_SIM_FREQ_200/results/SingleConv.max (MD5Sum: db56c850c71c7d59359cd9cd09dc29e2)
Thu 20:52: Build completed: Thu Dec 23 20:52:05 GMT 2021 (took 10 secs)
cp /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/SingleConv_MAIA_DFE_SIM_FREQ_200/results/SingleConv.h /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/SingleConv_MAIA_DFE_SIM_FREQ_200/results/Maxfiles.h
sliccompile /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/SingleConv_MAIA_DFE_SIM_FREQ_200/results/SingleConv.max SingleConv_FREQ_200_sim.o
Processing maxfile for MAX5_LIMA_SIM from '/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/SingleConv_MAIA_DFE_SIM_FREQ_200/results/SingleConv.max'.
/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/clang/bin/start.sh clang -fgnu89-inline -pipe -O0 -std=gnu99 -Wall -Werror -frandom-seed=foo -Wno-unused-variable -Wno-unused-function -fPIC -I /vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -DMAXFILE_INC="/dev/null" -DSLIC_NO_DESTRUCTORS -c /tmp/sliccompile_4102955157481367837/cobject/max_3999535729821017181.c -o /tmp/sliccompile_4102955157481367837/cobject/max_3999535729821017181.c.o 
/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/clang/bin/start.sh clang -fgnu89-inline -pipe -O0 -std=gnu99 -Wall -Werror -frandom-seed=foo -Wno-unused-variable -Wno-unused-function -fPIC -I /vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -DMAXFILE_INC="/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/SingleConv_MAIA_DFE_SIM_FREQ_200/results/SingleConv.max" -DSLIC_NO_DESTRUCTORS -c /vol/cc/opt/maxeler/maxcompiler-2021.1/src/slicinterface/MaxFileInit.c -o max_715113082970907695.o 
ld -r /tmp/sliccompile_4102955157481367837/cobject/max_3999535729821017181.c.o max_715113082970907695.o -o SingleConv_FREQ_200_sim.o 
Copying .max file C object into '/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/single_conv'
g++ ../../src/single_conv/SingleConvCpuCode.cpp -fopenmp -lrt -D_GLIBCXX_USE_CXX11_ABI=0 -O3 -std=c++11  -Wall -I/mnt/ccnas2/bdp/rz3515/cccad/opt/include -I/usr/local/include -I../src -I../src/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/runtime/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -I/lib/maxeleros-sim/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/lib/dfe-snippets/include -D_XOPEN_SOURCE=600 -DDESIGN_   -g -I/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/SingleConv_MAIA_DFE_SIM_FREQ_200/results -D__SIM__ -DDESIGN_NAME=SingleConv -c -o SingleConv_FREQ_200_simc.o
g++ -fopenmp -lrt -D_GLIBCXX_USE_CXX11_ABI=0 -O3 -std=c++11  -Wall -I/mnt/ccnas2/bdp/rz3515/cccad/opt/include -I/usr/local/include -I../src -I../src/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/runtime/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -I/lib/maxeleros-sim/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/lib/dfe-snippets/include -D_XOPEN_SOURCE=600 -DDESIGN_   -g -o SingleConv_FREQ_200_sim SingleConv_FREQ_200_sim.o SingleConv_FREQ_200_simc.o -L/mnt/ccnas2/bdp/rz3515/cccad/opt/lib -L/vol/cc/opt/maxeler/maxcompiler-2021.1/lib -L/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/maxeleros-sim/lib -L/lib/maxeleros-sim/lib -L./ -lmaxeleros -lglog -lgflags -lslic -lm -lpthread -lcurl
maxcompilersim -n rz3515a -cLIMA -d1 restart
Terminating MaxelerOS daemon (PID 14899)...
MaxelerOS daemon killed
Terminating simulated system (PID 14888)...
Simulated system killed

Simulated system 'rz3515a' started:
    Board:                   MAX5C (default: 48GB RAM)
    RAM size for simulation: 51539607552 bytes.
    Temporary RAM file in    /tmp/. (Use option -k to preserve it.)
    Simulation log:          /homes/rz3515/.maxcompilersim/rz3515a-cccad5.log
    Daemon log:              /homes/rz3515/.maxcompilersim/rz3515a-cccad5_daemon.log

Simulated devices available:
    rz3515a0:rz3515a

To use simulated devices you need to set the environment variables
LD_PRELOAD and MAXELEROSDIR. As LD_PRELOAD must not contain spaces,
you might need to set LD_LIBRARY_PATH in addition (see the MaxCompiler
tutorial for details).  Also, ensure that you add the correct simulated
system name (namely "rz3515a") to your SLiC configuration. The following
examples assume there are no spaces in LD_PRELOAD or SLIC_CONF.
Example for BASH:
    export MAXELEROSDIR=$MAXCOMPILERDIR/lib/maxeleros-sim
    export LD_PRELOAD=$MAXELEROSDIR/lib/libmaxeleros.so:$LD_PRELOAD
    export SLIC_CONF="$SLIC_CONF;use_simulation=rz3515a"
Example for CSH:
    setenv MAXELEROSDIR $MAXCOMPILERDIR/lib/maxeleros-sim
    setenv LD_PRELOAD $MAXELEROSDIR/lib/libmaxeleros.so:$LD_PRELOAD
    setenv SLIC_CONF "$SLIC_CONF;use_simulation=rz3515a"

SLIC_CONF+="default_maxdebug_mode=MAX_DEBUG_ALWAYS;" SLIC_CONF+="use_simulation=rz3515a" LD_PRELOAD=/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/maxeleros-sim/lib/libmaxeleros.so ./SingleConv_FREQ_200_sim -n 2 -f /mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/single_conv/data/data-single-conv.txt -g
make stopsim
make[1]: Entering directory `/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/single_conv'
maxcompilersim -n rz3515a -cLIMA stop
Terminating MaxelerOS daemon (PID 35035)...
MaxelerOS daemon killed
Terminating simulated system (PID 35031)...
Simulated system killed
make[1]: Leaving directory `/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/single_conv'
