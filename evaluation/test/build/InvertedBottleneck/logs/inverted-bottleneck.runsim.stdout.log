BUILD_NAME_OPTION = _FREQ_350
Running maxjc ...
Using maxj batch compiler.
jar: /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/ecj.jar
MAXAPPJCP=.:/mnt/ccnas2/bdp/rz3515/projects/deacon/src:/mnt/ccnas2/bdp/rz3515/projects/deacon/test:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar \
	MAXAPPPKG=InvertedBottleneck MAXSOURCEDIRS=../../src:/mnt/ccnas2/bdp/rz3515/projects/deacon/src \
	maxJavaRun -v -m 8192 InvertedbottleneckManager \
	DFEModel=MAIA maxFileName=Invertedbottleneck target='DFE_SIM' enableMPCX=false \
	FREQ=350 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/InvertedBottleneck/data/data-inverted-bottleneck.txt 
]0; maxJavaRun: InvertedbottleneckManager DFEModel=MAIA maxFileName=Invertedbottleneck target=DFE_SIM enableMPCX=false FREQ=350 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/InvertedBottleneck/data/data-inverted-bottleneck.txt maxJavaRun : Execute Java program with Maxeler environment

Input classpath     : 
MaxCompiler JAR     : /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/MaxCompiler.jar
                      (from MAXCOMPILERDIR)
MAXAPPJCP           : .:/mnt/ccnas2/bdp/rz3515/projects/deacon/src:/mnt/ccnas2/bdp/rz3515/projects/deacon/test:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar
MAXSOURCEDIRS       : ../../src:/mnt/ccnas2/bdp/rz3515/projects/deacon/src

.maxJavaRun present : No
Custom Param file   : None
MAXAPPPKG           : InvertedBottleneck
MAXJVMMEM           : 
MAXEMMAJCP          : 
MAXEMMARUN          : 
JACOCO_AGENT        : 
JACOCO_AGENT_OPTIONS: 

----------------------------------------------------------
Java class to run   : InvertedBottleneck.InvertedbottleneckManager
Class arguments     : DFEModel=MAIA maxFileName=Invertedbottleneck target=DFE_SIM enableMPCX=false FREQ=350 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/InvertedBottleneck/data/data-inverted-bottleneck.txt
Execution classpath : /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/MaxCompiler.jar:
                      .:
                      /mnt/ccnas2/bdp/rz3515/projects/deacon/src:
                      /mnt/ccnas2/bdp/rz3515/projects/deacon/test:
                      /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:
                      /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar
JVM memory limit    : 8192 MB
----------------------------------------------------------

Fri 16:37: MaxCompiler version: 2021.1
Fri 16:37: Build "Invertedbottleneck" start time: Fri Dec 24 16:37:49 GMT 2021
Fri 16:37: Main build process running as user rz3515 on host cccad5.doc.ic.ac.uk
Fri 16:37: Build location: /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Invertedbottleneck_MAIA_DFE_SIM_FREQ_350
Fri 16:37: Detailed build log available in "_build.log"
Fri 16:37: 
Fri 16:37: ENGINE BUILD PARAMETERS
Fri 16:37: 	              Build name: Invertedbottleneck_MAIA_DFE_SIM_FREQ_350                                                                         
Fri 16:37: 	             maxFileName: Invertedbottleneck                                                                                               
Fri 16:37: 	                  target: DFE_SIM                                                                                                          
Fri 16:37: 	                DFEModel: MAIA                                                                                                             
Fri 16:37: 	              enableMPCX: false                                                                                                            
Fri 16:37: 	                bitWidth: 32                                                                                                               
Fri 16:37: 	                     WBW: 32                                                                                                               
Fri 16:37: 	                   DTYPE: fixed                                                                                                            
Fri 16:37: 	           NUM_FRAC_BITS: 8                                                                                                                
Fri 16:37: 	                      PF: 1                                                                                                                
Fri 16:37: 	                      PC: 1                                                                                                                
Fri 16:37: 	                      PK: 1                                                                                                                
Fri 16:37: 	                       H: 1                                                                                                                
Fri 16:37: 	                       W: 1                                                                                                                
Fri 16:37: 	                       C: 1                                                                                                                
Fri 16:37: 	                       F: 1                                                                                                                
Fri 16:37: 	                       K: 1                                                                                                                
Fri 16:37: 	                     PAD: 0                                                                                                                
Fri 16:37: 	                       S: 1                                                                                                                
Fri 16:37: 	                     SEQ: 0                                                                                                                
Fri 16:37: 	                    FREQ: 350                                                                                                              
Fri 16:37: 	                USE_DRAM: false                                                                                                            
Fri 16:37: 	                 USE_BNN: false                                                                                                            
Fri 16:37: 	            USE_WINOGRAD: false                                                                                                            
Fri 16:37: 	WINOGRAD_WEIGHTS_OFFLINE: false                                                                                                            
Fri 16:37: 	   NUM_COEFF_FIFO_SPLITS: 1                                                                                                                
Fri 16:37: 	                   DEBUG: false                                                                                                            
Fri 16:37: 	           COEFF_ON_CHIP: false                                                                                                            
Fri 16:37: 	              INIT_COEFF: false                                                                                                            
Fri 16:37: 	              COEFF_FILE: /mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/InvertedBottleneck/data/data-inverted-bottleneck.txt
Fri 16:37: Generating kernel conv0 ...
Fri 16:37: Instantiating kernel "conv0"
Fri 16:37: T = dfeFix(16, 0, TWOSCOMPLEMENT)
Fri 16:37: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Fri 16:37: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Fri 16:37: coeffOnChip = true
Fri 16:37: Input height = 32, output height = 32, pad = 0
Fri 16:37: Counter H = 32 W = 32
Fri 16:37: oh is dfeFix(32, 0, TWOSCOMPLEMENT)
Fri 16:37: ow is dfeFix(32, 0, TWOSCOMPLEMENT)
Fri 16:37: Read for key = conv0 depth = 8
Fri 16:37: ROM created for conv0 of depth 8 and type {DFEVectorType: 1 x dfeFix(16, 0, TWOSCOMPLEMENT)}: com.maxeler.maxcompiler.v2.kernelcompiler.stdlib.memory.Memory@185a6e9
Fri 16:37: Ifmap buffer configuration 2048 x 1
Fri 16:37: loop = false
Fri 16:37: Building the CORE arithmetic unit for "conv0" ...
Fri 16:37: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Fri 16:37: CORE ifmap vector size: 1
Fri 16:37: CORE coefficient vector size: 1
Fri 16:37: CORE ofmap vector size: 1
Fri 16:37: [ConvLayerOfmapBuffer] depth =  1024 addr_bits =    10
Fri 16:37: Connecting to output: ofmap
Fri 16:37: Connecting to output: ofmap_1
Fri 16:37: Compiling kernel "conv0"
Fri 16:37: 
Fri 16:37: Generating kernel conv1 ...
Fri 16:37: Instantiating kernel "conv1"
Fri 16:37: T = dfeFix(16, 0, TWOSCOMPLEMENT)
Fri 16:37: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Fri 16:37: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Fri 16:37: coeffOnChip = true
Fri 16:37: Input height = 32, output height = 32, pad = 1
Fri 16:37: Counter H = 34 W = 34
Fri 16:37: oh is dfeFix(32, 0, TWOSCOMPLEMENT)
Fri 16:37: ow is dfeFix(32, 0, TWOSCOMPLEMENT)
Fri 16:37: Pointwise coeff type = {DFEVectorType: 1 x dfeFix(16, 0, TWOSCOMPLEMENT)}
Fri 16:37: Building line buffer for "conv1" ...
Fri 16:37: Line buffer shape 3 x 32, produces 1 number of 3 x 3 tiles per cycle
Fri 16:37: Line buffer input vector size: 1, output vector size: 9.
Fri 16:37: Number of separated line buffers: 1
Fri 16:37: Initialising line buffer kernel with 3 x 34 x 1
Fri 16:37: Size of line buffer output: 3
Fri 16:37: Number of line buffer output chunks: 3
Fri 16:37: Connecting outputs from chunk (#000) ...
Fri 16:37: Connecting outputs from chunk (#001) ...
Fri 16:37: Connecting outputs from chunk (#002) ...
Fri 16:37: Building the CORE arithmetic unit for "conv1_dw" ...
Fri 16:37: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Fri 16:37: CORE ifmap vector size: 9
Fri 16:37: CORE coefficient vector size: 9
Fri 16:37: CORE ofmap vector size: 1
Fri 16:37: Ifmap buffer configuration 1024 x 1
Fri 16:37: loop = false
Fri 16:37: Building the CORE arithmetic unit for "conv1_pw" ...
Fri 16:37: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Fri 16:37: CORE ifmap vector size: 1
Fri 16:37: CORE coefficient vector size: 1
Fri 16:37: CORE ofmap vector size: 1
Fri 16:37: [ConvLayerOfmapBuffer] depth =  2048 addr_bits =    11
Fri 16:37: Depthwise coeff ROM depth = 4
Fri 16:37: Pointwise coeff ROM depth = 8
Fri 16:37: Read for key = conv1_dw depth = 4
Fri 16:37: ROM created for conv1_dw of depth 4 and type {DFEVectorType: 9 x dfeFix(16, 0, TWOSCOMPLEMENT)}: com.maxeler.maxcompiler.v2.kernelcompiler.stdlib.memory.Memory@1199fe66
Fri 16:37: Read for key = conv1_pw depth = 8
Fri 16:37: ROM created for conv1_pw of depth 8 and type {DFEVectorType: 1 x dfeFix(16, 0, TWOSCOMPLEMENT)}: com.maxeler.maxcompiler.v2.kernelcompiler.stdlib.memory.Memory@614df0a4
Fri 16:37: Connecting to output: ofmap
Fri 16:37: Compiling kernel "conv1"
Fri 16:37: 
Fri 16:37: Generating padding kernels for DRAM access
Fri 16:37: Instantiating kernel "ifmap_unpad"
Fri 16:37: Compiling kernel "ifmap_unpad"
Fri 16:37: 
Fri 16:37: Instantiating kernel "ofmap_pad"
Fri 16:37: Compiling kernel "ofmap_pad"
Fri 16:37: 
Fri 16:37: Setting up stream connections for conv0
Fri 16:37: Setting up stream connections for conv1
Fri 16:37: DRAM will be used to build the design
Fri 16:37: Setup streams for kernel "conv0"
Fri 16:37: # cycles:       8192
Fri 16:37: # ifmap stream: 2048
Fri 16:37: # coeff stream: 8
Fri 16:37: # ofmap stream: 4096
Fri 16:37: coeff vec size: 1
Fri 16:37: coeff stream bit width: 16
Fri 16:37: coeff stream chunk size: 1
Fri 16:37: Setup streams for kernel "conv1"
Fri 16:37: # cycles:       9248
Fri 16:37: # ifmap stream: 4096
Fri 16:37: # coeff stream: 108
Fri 16:37: # ofmap stream: 2048
Fri 16:37: coeff vec size: 9
Fri 16:37: coeff stream bit width: 144
Fri 16:37: coeff stream chunk size: 9
Fri 16:37: Running back-end simulation build (3 phases)
Fri 16:37: (1/3) - Prepare MaxFile Data (GenerateMaxFileDataFile)
Fri 16:37: (2/3) - Compile Simulation Modules (SimCompilePass)
Fri 16:38: (3/3) - Generate MaxFile (AddSimObjectToMaxFilePass)
Fri 16:38: MaxFile: /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Invertedbottleneck_MAIA_DFE_SIM_FREQ_350/results/Invertedbottleneck.max (MD5Sum: 9e2d4453bae925aa1548522feb62940a)
Fri 16:38: Build completed: Fri Dec 24 16:38:01 GMT 2021 (took 12 secs)
cp /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Invertedbottleneck_MAIA_DFE_SIM_FREQ_350/results/Invertedbottleneck.h /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Invertedbottleneck_MAIA_DFE_SIM_FREQ_350/results/Maxfiles.h
sliccompile /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Invertedbottleneck_MAIA_DFE_SIM_FREQ_350/results/Invertedbottleneck.max Invertedbottleneck_FREQ_350_sim.o
Processing maxfile for MAX5_LIMA_SIM from '/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Invertedbottleneck_MAIA_DFE_SIM_FREQ_350/results/Invertedbottleneck.max'.
/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/clang/bin/start.sh clang -fgnu89-inline -pipe -O0 -std=gnu99 -Wall -Werror -frandom-seed=foo -Wno-unused-variable -Wno-unused-function -fPIC -I /vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -DMAXFILE_INC="/dev/null" -DSLIC_NO_DESTRUCTORS -c /tmp/sliccompile_4783723299945367862/cobject/max_8161038492245343987.c -o /tmp/sliccompile_4783723299945367862/cobject/max_8161038492245343987.c.o 
/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/clang/bin/start.sh clang -fgnu89-inline -pipe -O0 -std=gnu99 -Wall -Werror -frandom-seed=foo -Wno-unused-variable -Wno-unused-function -fPIC -I /vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -DMAXFILE_INC="/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Invertedbottleneck_MAIA_DFE_SIM_FREQ_350/results/Invertedbottleneck.max" -DSLIC_NO_DESTRUCTORS -c /vol/cc/opt/maxeler/maxcompiler-2021.1/src/slicinterface/MaxFileInit.c -o max_938772058170223831.o 
ld -r /tmp/sliccompile_4783723299945367862/cobject/max_8161038492245343987.c.o max_938772058170223831.o -o Invertedbottleneck_FREQ_350_sim.o 
Copying .max file C object into '/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/InvertedBottleneck'
g++ ../../src/InvertedBottleneck/InvertedbottleneckCpuCode.cpp -fopenmp -lrt -D_GLIBCXX_USE_CXX11_ABI=0 -O3 -std=c++11  -Wall -I/mnt/ccnas2/bdp/rz3515/cccad/opt/include -I/usr/local/include -I../src -I../src/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/runtime/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -I/lib/maxeleros-sim/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/lib/dfe-snippets/include -D_XOPEN_SOURCE=600 -DDESIGN_   -g -I/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Invertedbottleneck_MAIA_DFE_SIM_FREQ_350/results -D__SIM__ -DDESIGN_NAME=Invertedbottleneck -c -o Invertedbottleneck_FREQ_350_simc.o
g++ -fopenmp -lrt -D_GLIBCXX_USE_CXX11_ABI=0 -O3 -std=c++11  -Wall -I/mnt/ccnas2/bdp/rz3515/cccad/opt/include -I/usr/local/include -I../src -I../src/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/runtime/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -I/lib/maxeleros-sim/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/lib/dfe-snippets/include -D_XOPEN_SOURCE=600 -DDESIGN_   -g -o Invertedbottleneck_FREQ_350_sim Invertedbottleneck_FREQ_350_sim.o Invertedbottleneck_FREQ_350_simc.o -L/mnt/ccnas2/bdp/rz3515/cccad/opt/lib -L/vol/cc/opt/maxeler/maxcompiler-2021.1/lib -L/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/maxeleros-sim/lib -L/lib/maxeleros-sim/lib -L./ -lmaxeleros -lglog -lgflags -lslic -lm -lpthread -lcurl
maxcompilersim -n rz3515a -cLIMA -d1 restart

Simulated system 'rz3515a' started:
    Board:                   MAX5C (default: 48GB RAM)
    RAM size for simulation: 51539607552 bytes.
    Temporary RAM file in    /tmp/. (Use option -k to preserve it.)
    Simulation log:          /homes/rz3515/.maxcompilersim/rz3515a-cccad5.log
    Daemon log:              /homes/rz3515/.maxcompilersim/rz3515a-cccad5_daemon.log

Simulated devices available:
    rz3515a0:rz3515a

To use simulated devices you need to set the environment variables
LD_PRELOAD and MAXELEROSDIR. As LD_PRELOAD must not contain spaces,
you might need to set LD_LIBRARY_PATH in addition (see the MaxCompiler
tutorial for details).  Also, ensure that you add the correct simulated
system name (namely "rz3515a") to your SLiC configuration. The following
examples assume there are no spaces in LD_PRELOAD or SLIC_CONF.
Example for BASH:
    export MAXELEROSDIR=$MAXCOMPILERDIR/lib/maxeleros-sim
    export LD_PRELOAD=$MAXELEROSDIR/lib/libmaxeleros.so:$LD_PRELOAD
    export SLIC_CONF="$SLIC_CONF;use_simulation=rz3515a"
Example for CSH:
    setenv MAXELEROSDIR $MAXCOMPILERDIR/lib/maxeleros-sim
    setenv LD_PRELOAD $MAXELEROSDIR/lib/libmaxeleros.so:$LD_PRELOAD
    setenv SLIC_CONF "$SLIC_CONF;use_simulation=rz3515a"

SLIC_CONF+="default_maxdebug_mode=MAX_DEBUG_ALWAYS;" SLIC_CONF+="use_simulation=rz3515a" LD_PRELOAD=/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/maxeleros-sim/lib/libmaxeleros.so ./Invertedbottleneck_FREQ_350_sim -n 2 -f /mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/InvertedBottleneck/data/data-inverted-bottleneck.txt -g
make stopsim
make[1]: Entering directory `/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/InvertedBottleneck'
maxcompilersim -n rz3515a -cLIMA stop
Terminating MaxelerOS daemon (PID 120253)...
MaxelerOS daemon killed
Terminating simulated system (PID 120247)...
Simulated system killed
make[1]: Leaving directory `/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/InvertedBottleneck'
