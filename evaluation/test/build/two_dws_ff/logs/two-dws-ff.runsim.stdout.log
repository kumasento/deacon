BUILD_NAME_OPTION = _FREQ_200
Running maxjc ...
Using maxj batch compiler.
jar: /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/ecj.jar
MAXAPPJCP=.:/mnt/ccnas2/bdp/rz3515/projects/deacon/src:/mnt/ccnas2/bdp/rz3515/projects/deacon/test:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar \
	MAXAPPPKG=two_dws_ff MAXSOURCEDIRS=../../src:/mnt/ccnas2/bdp/rz3515/projects/deacon/src \
	maxJavaRun -v -m 8192 TwoDwsFfManager \
	DFEModel=MAIA maxFileName=TwoDwsFf target='DFE_SIM' enableMPCX=false \
	FREQ=200 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/two_dws_ff/data/data-two-dws-ff.txt 
]0; maxJavaRun: TwoDwsFfManager DFEModel=MAIA maxFileName=TwoDwsFf target=DFE_SIM enableMPCX=false FREQ=200 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/two_dws_ff/data/data-two-dws-ff.txt maxJavaRun : Execute Java program with Maxeler environment

Input classpath     : 
MaxCompiler JAR     : /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/MaxCompiler.jar
                      (from MAXCOMPILERDIR)
MAXAPPJCP           : .:/mnt/ccnas2/bdp/rz3515/projects/deacon/src:/mnt/ccnas2/bdp/rz3515/projects/deacon/test:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar
MAXSOURCEDIRS       : ../../src:/mnt/ccnas2/bdp/rz3515/projects/deacon/src

.maxJavaRun present : No
Custom Param file   : None
MAXAPPPKG           : two_dws_ff
MAXJVMMEM           : 
MAXEMMAJCP          : 
MAXEMMARUN          : 
JACOCO_AGENT        : 
JACOCO_AGENT_OPTIONS: 

----------------------------------------------------------
Java class to run   : two_dws_ff.TwoDwsFfManager
Class arguments     : DFEModel=MAIA maxFileName=TwoDwsFf target=DFE_SIM enableMPCX=false FREQ=200 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/two_dws_ff/data/data-two-dws-ff.txt
Execution classpath : /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/MaxCompiler.jar:
                      .:
                      /mnt/ccnas2/bdp/rz3515/projects/deacon/src:
                      /mnt/ccnas2/bdp/rz3515/projects/deacon/test:
                      /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:
                      /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar
JVM memory limit    : 8192 MB
----------------------------------------------------------

Mon 17:15: MaxCompiler version: 2021.1
Mon 17:15: Build "TwoDwsFf" start time: Mon Dec 20 17:15:06 GMT 2021
Mon 17:15: Main build process running as user rz3515 on host cccad5.doc.ic.ac.uk
Mon 17:15: Build location: /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/TwoDwsFf_MAIA_DFE_SIM_FREQ_200
Mon 17:15: Detailed build log available in "_build.log"
Mon 17:15: 
Mon 17:15: ENGINE BUILD PARAMETERS
Mon 17:15: 	              Build name: TwoDwsFf_MAIA_DFE_SIM_FREQ_200                                                                  
Mon 17:15: 	             maxFileName: TwoDwsFf                                                                                        
Mon 17:15: 	                  target: DFE_SIM                                                                                         
Mon 17:15: 	                DFEModel: MAIA                                                                                            
Mon 17:15: 	              enableMPCX: false                                                                                           
Mon 17:15: 	                bitWidth: 32                                                                                              
Mon 17:15: 	                     WBW: 32                                                                                              
Mon 17:15: 	                   DTYPE: fixed                                                                                           
Mon 17:15: 	           NUM_FRAC_BITS: 8                                                                                               
Mon 17:15: 	                      PF: 1                                                                                               
Mon 17:15: 	                      PC: 1                                                                                               
Mon 17:15: 	                      PK: 1                                                                                               
Mon 17:15: 	                       H: 1                                                                                               
Mon 17:15: 	                       W: 1                                                                                               
Mon 17:15: 	                       C: 1                                                                                               
Mon 17:15: 	                       F: 1                                                                                               
Mon 17:15: 	                       K: 1                                                                                               
Mon 17:15: 	                     PAD: 0                                                                                               
Mon 17:15: 	                       S: 1                                                                                               
Mon 17:15: 	                     SEQ: 0                                                                                               
Mon 17:15: 	                    FREQ: 200                                                                                             
Mon 17:15: 	                USE_DRAM: false                                                                                           
Mon 17:15: 	                 USE_BNN: false                                                                                           
Mon 17:15: 	            USE_WINOGRAD: false                                                                                           
Mon 17:15: 	WINOGRAD_WEIGHTS_OFFLINE: false                                                                                           
Mon 17:15: 	   NUM_COEFF_FIFO_SPLITS: 1                                                                                               
Mon 17:15: 	                   DEBUG: false                                                                                           
Mon 17:15: 	           COEFF_ON_CHIP: false                                                                                           
Mon 17:15: 	              INIT_COEFF: false                                                                                           
Mon 17:15: 	              COEFF_FILE: /mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/two_dws_ff/data/data-two-dws-ff.txt
Mon 17:15: Generating kernel conv1 ...
Mon 17:15: Instantiating kernel "conv1"
Mon 17:15: T = dfeFix(8, 0, TWOSCOMPLEMENT)
Mon 17:15: WT = dfeFix(8, 0, TWOSCOMPLEMENT)
Mon 17:15: WT = dfeFix(8, 0, TWOSCOMPLEMENT)
Mon 17:15: coeffOnChip = true
Mon 17:15: Input height = 32, output height = 32, pad = 1
Mon 17:15: Counter H = 34 W = 34
Mon 17:15: oh is dfeFix(32, 0, TWOSCOMPLEMENT)
Mon 17:15: ow is dfeFix(32, 0, TWOSCOMPLEMENT)
Mon 17:15: Pointwise coeff type = {DFEVectorType: 1 x dfeFix(8, 0, TWOSCOMPLEMENT)}
Mon 17:15: Building line buffer for "conv1" ...
Mon 17:15: Line buffer shape 3 x 32, produces 1 number of 3 x 3 tiles per cycle
Mon 17:15: Line buffer input vector size: 1, output vector size: 9.
Mon 17:15: Number of separated line buffers: 1
Mon 17:15: Initialising line buffer kernel with 3 x 34 x 1
Mon 17:15: Size of line buffer output: 3
Mon 17:15: Number of line buffer output chunks: 3
Mon 17:15: Connecting outputs from chunk (#000) ...
Mon 17:15: Connecting outputs from chunk (#001) ...
Mon 17:15: Connecting outputs from chunk (#002) ...
Mon 17:15: Building the CORE arithmetic unit for "conv1_dw" ...
Mon 17:15: WT = dfeFix(8, 0, TWOSCOMPLEMENT)
Mon 17:15: CORE ifmap vector size: 9
Mon 17:15: CORE coefficient vector size: 9
Mon 17:15: CORE ofmap vector size: 1
Mon 17:15: Ifmap buffer configuration 32768 x 1
Mon 17:15: loop = false
Mon 17:15: Building the CORE arithmetic unit for "conv1_pw" ...
Mon 17:15: WT = dfeFix(8, 0, TWOSCOMPLEMENT)
Mon 17:15: CORE ifmap vector size: 1
Mon 17:15: CORE coefficient vector size: 1
Mon 17:15: CORE ofmap vector size: 1
Mon 17:15: [ConvLayerOfmapBuffer] depth =  1024 addr_bits =    10
Mon 17:15: Depthwise coeff ROM depth = 32
Mon 17:15: Pointwise coeff ROM depth = 1024
Mon 17:15: Read for key = conv1_dw
Mon 17:15: Read for key = conv1_pw
Mon 17:15: Compiling kernel "conv1"
Mon 17:15: 
Mon 17:15: Generating kernel conv2 ...
Mon 17:15: Instantiating kernel "conv2"
Mon 17:15: T = dfeFix(8, 0, TWOSCOMPLEMENT)
Mon 17:15: WT = dfeFix(8, 0, TWOSCOMPLEMENT)
Mon 17:15: WT = dfeFix(8, 0, TWOSCOMPLEMENT)
Mon 17:15: coeffOnChip = true
Mon 17:15: Input height = 32, output height = 32, pad = 1
Mon 17:15: Counter H = 34 W = 34
Mon 17:15: oh is dfeFix(32, 0, TWOSCOMPLEMENT)
Mon 17:15: ow is dfeFix(32, 0, TWOSCOMPLEMENT)
Mon 17:15: Pointwise coeff type = {DFEVectorType: 1 x dfeFix(8, 0, TWOSCOMPLEMENT)}
Mon 17:15: Building line buffer for "conv2" ...
Mon 17:15: Line buffer shape 3 x 32, produces 1 number of 3 x 3 tiles per cycle
Mon 17:15: Line buffer input vector size: 1, output vector size: 9.
Mon 17:15: Number of separated line buffers: 1
Mon 17:15: Initialising line buffer kernel with 3 x 34 x 1
Mon 17:15: Size of line buffer output: 3
Mon 17:15: Number of line buffer output chunks: 3
Mon 17:15: Connecting outputs from chunk (#000) ...
Mon 17:15: Connecting outputs from chunk (#001) ...
Mon 17:15: Connecting outputs from chunk (#002) ...
Mon 17:15: Building the CORE arithmetic unit for "conv2_dw" ...
Mon 17:15: WT = dfeFix(8, 0, TWOSCOMPLEMENT)
Mon 17:15: CORE ifmap vector size: 9
Mon 17:15: CORE coefficient vector size: 9
Mon 17:15: CORE ofmap vector size: 1
Mon 17:15: Ifmap buffer configuration 32768 x 1
Mon 17:15: loop = false
Mon 17:15: Building the CORE arithmetic unit for "conv2_pw" ...
Mon 17:15: WT = dfeFix(8, 0, TWOSCOMPLEMENT)
Mon 17:15: CORE ifmap vector size: 1
Mon 17:15: CORE coefficient vector size: 1
Mon 17:15: CORE ofmap vector size: 1
Mon 17:15: [ConvLayerOfmapBuffer] depth =  1024 addr_bits =    10
Mon 17:15: Depthwise coeff ROM depth = 32
Mon 17:15: Pointwise coeff ROM depth = 1024
Mon 17:15: Read for key = conv2_dw
Mon 17:15: Read for key = conv2_pw
Mon 17:15: Compiling kernel "conv2"
Mon 17:15: 
Mon 17:15: Generating padding kernels for DRAM access
Mon 17:15: Instantiating kernel "ifmap_unpad"
Mon 17:15: Compiling kernel "ifmap_unpad"
Mon 17:15: 
Mon 17:15: Instantiating kernel "ofmap_pad"
Mon 17:15: Compiling kernel "ofmap_pad"
Mon 17:15: 
Mon 17:15: Setting up stream connections for conv1
Mon 17:15: Setting up stream connections for conv2
Mon 17:15: DRAM will be used to build the design
Mon 17:15: Setup streams for kernel "conv1"
Mon 17:15: # cycles:       1183744
Mon 17:15: # ifmap stream: 32768
Mon 17:15: # coeff stream: 9504
Mon 17:15: # ofmap stream: 32768
Mon 17:15: coeff vec size: 9
Mon 17:15: coeff stream bit width: 72
Mon 17:15: coeff stream chunk size: 9
Mon 17:15: Setup streams for kernel "conv2"
Mon 17:15: # cycles:       1183744
Mon 17:15: # ifmap stream: 32768
Mon 17:15: # coeff stream: 9504
Mon 17:15: # ofmap stream: 32768
Mon 17:15: coeff vec size: 9
Mon 17:15: coeff stream bit width: 72
Mon 17:15: coeff stream chunk size: 9
Mon 17:15: Running back-end simulation build (3 phases)
Mon 17:15: (1/3) - Prepare MaxFile Data (GenerateMaxFileDataFile)
Mon 17:15: (2/3) - Compile Simulation Modules (SimCompilePass)
Mon 17:15: (3/3) - Generate MaxFile (AddSimObjectToMaxFilePass)
Mon 17:15: MaxFile: /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/TwoDwsFf_MAIA_DFE_SIM_FREQ_200/results/TwoDwsFf.max (MD5Sum: 7885a79821dce92010f2fc2f0a784cb6)
Mon 17:15: Build completed: Mon Dec 20 17:15:21 GMT 2021 (took 14 secs)
cp /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/TwoDwsFf_MAIA_DFE_SIM_FREQ_200/results/TwoDwsFf.h /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/TwoDwsFf_MAIA_DFE_SIM_FREQ_200/results/Maxfiles.h
sliccompile /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/TwoDwsFf_MAIA_DFE_SIM_FREQ_200/results/TwoDwsFf.max TwoDwsFf_FREQ_200_sim.o
Processing maxfile for MAX5_LIMA_SIM from '/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/TwoDwsFf_MAIA_DFE_SIM_FREQ_200/results/TwoDwsFf.max'.
/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/clang/bin/start.sh clang -fgnu89-inline -pipe -O0 -std=gnu99 -Wall -Werror -frandom-seed=foo -Wno-unused-variable -Wno-unused-function -fPIC -I /vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -DMAXFILE_INC="/dev/null" -DSLIC_NO_DESTRUCTORS -c /tmp/sliccompile_6034410719774905934/cobject/max_721324941960143643.c -o /tmp/sliccompile_6034410719774905934/cobject/max_721324941960143643.c.o 
/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/clang/bin/start.sh clang -fgnu89-inline -pipe -O0 -std=gnu99 -Wall -Werror -frandom-seed=foo -Wno-unused-variable -Wno-unused-function -fPIC -I /vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -DMAXFILE_INC="/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/TwoDwsFf_MAIA_DFE_SIM_FREQ_200/results/TwoDwsFf.max" -DSLIC_NO_DESTRUCTORS -c /vol/cc/opt/maxeler/maxcompiler-2021.1/src/slicinterface/MaxFileInit.c -o max_1458293834314022472.o 
ld -r /tmp/sliccompile_6034410719774905934/cobject/max_721324941960143643.c.o max_1458293834314022472.o -o TwoDwsFf_FREQ_200_sim.o 
Copying .max file C object into '/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/two_dws_ff'
g++ ../../src/two_dws_ff/TwoDwsFfCpuCode.cpp -fopenmp -lrt -D_GLIBCXX_USE_CXX11_ABI=0 -O3 -std=c++11  -Wall -I/mnt/ccnas2/bdp/rz3515/cccad/opt/include -I/usr/local/include -I../src -I../src/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/runtime/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -I/lib/maxeleros-sim/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/lib/dfe-snippets/include -D_XOPEN_SOURCE=600 -DDESIGN_   -g -I/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/TwoDwsFf_MAIA_DFE_SIM_FREQ_200/results -D__SIM__ -DDESIGN_NAME=TwoDwsFf -c -o TwoDwsFf_FREQ_200_simc.o
g++ -fopenmp -lrt -D_GLIBCXX_USE_CXX11_ABI=0 -O3 -std=c++11  -Wall -I/mnt/ccnas2/bdp/rz3515/cccad/opt/include -I/usr/local/include -I../src -I../src/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/runtime/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -I/lib/maxeleros-sim/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/lib/dfe-snippets/include -D_XOPEN_SOURCE=600 -DDESIGN_   -g -o TwoDwsFf_FREQ_200_sim TwoDwsFf_FREQ_200_sim.o TwoDwsFf_FREQ_200_simc.o -L/mnt/ccnas2/bdp/rz3515/cccad/opt/lib -L/vol/cc/opt/maxeler/maxcompiler-2021.1/lib -L/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/maxeleros-sim/lib -L/lib/maxeleros-sim/lib -L./ -lmaxeleros -lglog -lgflags -lslic -lm -lpthread -lcurl
maxcompilersim -n rz3515a -cLIMA -d1 restart

Simulated system 'rz3515a' started:
    Board:                   MAX5C (default: 48GB RAM)
    RAM size for simulation: 51539607552 bytes.
    Temporary RAM file in    /tmp/. (Use option -k to preserve it.)
    Simulation log:          /homes/rz3515/.maxcompilersim/rz3515a-cccad5.log
    Daemon log:              /homes/rz3515/.maxcompilersim/rz3515a-cccad5_daemon.log

Simulated devices available:
    rz3515a0:rz3515a

To use simulated devices you need to set the environment variables
LD_PRELOAD and MAXELEROSDIR. As LD_PRELOAD must not contain spaces,
you might need to set LD_LIBRARY_PATH in addition (see the MaxCompiler
tutorial for details).  Also, ensure that you add the correct simulated
system name (namely "rz3515a") to your SLiC configuration. The following
examples assume there are no spaces in LD_PRELOAD or SLIC_CONF.
Example for BASH:
    export MAXELEROSDIR=$MAXCOMPILERDIR/lib/maxeleros-sim
    export LD_PRELOAD=$MAXELEROSDIR/lib/libmaxeleros.so:$LD_PRELOAD
    export SLIC_CONF="$SLIC_CONF;use_simulation=rz3515a"
Example for CSH:
    setenv MAXELEROSDIR $MAXCOMPILERDIR/lib/maxeleros-sim
    setenv LD_PRELOAD $MAXELEROSDIR/lib/libmaxeleros.so:$LD_PRELOAD
    setenv SLIC_CONF "$SLIC_CONF;use_simulation=rz3515a"

SLIC_CONF+="default_maxdebug_mode=MAX_DEBUG_ALWAYS;" SLIC_CONF+="use_simulation=rz3515a" LD_PRELOAD=/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/maxeleros-sim/lib/libmaxeleros.so ./TwoDwsFf_FREQ_200_sim -n 2 -f /mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/two_dws_ff/data/data-two-dws-ff.txt
make stopsim
make[1]: Entering directory `/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/two_dws_ff'
maxcompilersim -n rz3515a -cLIMA stop
Terminating MaxelerOS daemon (PID 287864)...
MaxelerOS daemon killed
Terminating simulated system (PID 287860)...
Simulated system killed
make[1]: Leaving directory `/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/two_dws_ff'
