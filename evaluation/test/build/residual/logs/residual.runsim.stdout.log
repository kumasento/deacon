BUILD_NAME_OPTION = _FREQ_350
Running maxjc ...
Using maxj batch compiler.
jar: /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/ecj.jar
MAXAPPJCP=.:/mnt/ccnas2/bdp/rz3515/projects/deacon/src:/mnt/ccnas2/bdp/rz3515/projects/deacon/test:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar \
	MAXAPPPKG=residual MAXSOURCEDIRS=../../src:/mnt/ccnas2/bdp/rz3515/projects/deacon/src \
	maxJavaRun -v -m 8192 ResidualManager \
	DFEModel=MAIA maxFileName=Residual target='DFE_SIM' enableMPCX=false \
	FREQ=350 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/residual/data/data-residual.txt 
]0; maxJavaRun: ResidualManager DFEModel=MAIA maxFileName=Residual target=DFE_SIM enableMPCX=false FREQ=350 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/residual/data/data-residual.txt maxJavaRun : Execute Java program with Maxeler environment

Input classpath     : 
MaxCompiler JAR     : /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/MaxCompiler.jar
                      (from MAXCOMPILERDIR)
MAXAPPJCP           : .:/mnt/ccnas2/bdp/rz3515/projects/deacon/src:/mnt/ccnas2/bdp/rz3515/projects/deacon/test:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar
MAXSOURCEDIRS       : ../../src:/mnt/ccnas2/bdp/rz3515/projects/deacon/src

.maxJavaRun present : No
Custom Param file   : None
MAXAPPPKG           : residual
MAXJVMMEM           : 
MAXEMMAJCP          : 
MAXEMMARUN          : 
JACOCO_AGENT        : 
JACOCO_AGENT_OPTIONS: 

----------------------------------------------------------
Java class to run   : residual.ResidualManager
Class arguments     : DFEModel=MAIA maxFileName=Residual target=DFE_SIM enableMPCX=false FREQ=350 DEBUG=false COEFF_FILE=/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/residual/data/data-residual.txt
Execution classpath : /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/MaxCompiler.jar:
                      .:
                      /mnt/ccnas2/bdp/rz3515/projects/deacon/src:
                      /mnt/ccnas2/bdp/rz3515/projects/deacon/test:
                      /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max4Platform.jar:
                      /vol/cc/opt/maxeler/maxcompiler-2021.1/lib/Max5Platform.jar
JVM memory limit    : 8192 MB
----------------------------------------------------------

Sat 14:56: MaxCompiler version: 2021.1
Sat 14:56: Build "Residual" start time: Sat Dec 25 14:56:32 GMT 2021
Sat 14:56: Main build process running as user rz3515 on host cccad5.doc.ic.ac.uk
Sat 14:56: Build location: /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Residual_MAIA_DFE_SIM_FREQ_350
Sat 14:56: Detailed build log available in "_build.log"
Sat 14:56: 
Sat 14:56: ENGINE BUILD PARAMETERS
Sat 14:56: 	              Build name: Residual_MAIA_DFE_SIM_FREQ_350                                                              
Sat 14:56: 	             maxFileName: Residual                                                                                    
Sat 14:56: 	                  target: DFE_SIM                                                                                     
Sat 14:56: 	                DFEModel: MAIA                                                                                        
Sat 14:56: 	              enableMPCX: false                                                                                       
Sat 14:56: 	                bitWidth: 32                                                                                          
Sat 14:56: 	                     WBW: 32                                                                                          
Sat 14:56: 	                   DTYPE: fixed                                                                                       
Sat 14:56: 	           NUM_FRAC_BITS: 8                                                                                           
Sat 14:56: 	                      PF: 1                                                                                           
Sat 14:56: 	                      PC: 1                                                                                           
Sat 14:56: 	                      PK: 1                                                                                           
Sat 14:56: 	                       H: 1                                                                                           
Sat 14:56: 	                       W: 1                                                                                           
Sat 14:56: 	                       C: 1                                                                                           
Sat 14:56: 	                       F: 1                                                                                           
Sat 14:56: 	                       K: 1                                                                                           
Sat 14:56: 	                     PAD: 0                                                                                           
Sat 14:56: 	                       S: 1                                                                                           
Sat 14:56: 	                     SEQ: 0                                                                                           
Sat 14:56: 	                    FREQ: 350                                                                                         
Sat 14:56: 	                USE_DRAM: false                                                                                       
Sat 14:56: 	                 USE_BNN: false                                                                                       
Sat 14:56: 	            USE_WINOGRAD: false                                                                                       
Sat 14:56: 	WINOGRAD_WEIGHTS_OFFLINE: false                                                                                       
Sat 14:56: 	   NUM_COEFF_FIFO_SPLITS: 1                                                                                           
Sat 14:56: 	                   DEBUG: false                                                                                       
Sat 14:56: 	           COEFF_ON_CHIP: false                                                                                       
Sat 14:56: 	              INIT_COEFF: false                                                                                       
Sat 14:56: 	              COEFF_FILE: /mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/residual/data/data-residual.txt
Sat 14:56: Generating kernel conv0 ...
Sat 14:56: Instantiating kernel "conv0"
Sat 14:56: T = dfeFix(16, 0, TWOSCOMPLEMENT)
Sat 14:56: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Sat 14:56: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Sat 14:56: coeffOnChip = true
Sat 14:56: Input height = 2, output height = 2, pad = 1
Sat 14:56: Counter H = 4 W = 4
Sat 14:56: oh is dfeFix(32, 0, TWOSCOMPLEMENT)
Sat 14:56: ow is dfeFix(32, 0, TWOSCOMPLEMENT)
Sat 14:56: Ifmap buffer configuration 32 x 1
Sat 14:56: loop = false
Sat 14:56: Building line buffer for "conv0" ...
Sat 14:56: Line buffer shape 3 x 2, produces 1 number of 3 x 3 tiles per cycle
Sat 14:56: Line buffer input vector size: 1, output vector size: 9.
Sat 14:56: Number of separated line buffers: 1
Sat 14:56: Initialising line buffer kernel with 3 x 4 x 1
Sat 14:56: Size of line buffer output: 3
Sat 14:56: Number of line buffer output chunks: 3
Sat 14:56: Connecting outputs from chunk (#000) ...
Sat 14:56: Connecting outputs from chunk (#001) ...
Sat 14:56: Connecting outputs from chunk (#002) ...
Sat 14:56: Read for key = conv0 depth = 4
Sat 14:56: ROM created for conv0 of depth 4 and type {DFEVectorType: 9 x dfeFix(16, 0, TWOSCOMPLEMENT)}: com.maxeler.maxcompiler.v2.kernelcompiler.stdlib.memory.Memory@58a9760d
Sat 14:56: Building the CORE arithmetic unit for "conv0" ...
Sat 14:56: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Sat 14:56: CORE ifmap vector size: 9
Sat 14:56: CORE coefficient vector size: 9
Sat 14:56: CORE ofmap vector size: 1
Sat 14:56: [ConvLayerOfmapBuffer] depth =     4 addr_bits =     2
Sat 14:56: Connecting to output: ofmap
Sat 14:56: Connecting to output: ofmap_1
Sat 14:56: Compiling kernel "conv0"
Sat 14:56: 
Sat 14:56: Generating kernel conv1 ...
Sat 14:56: Instantiating kernel "conv1"
Sat 14:56: T = dfeFix(16, 0, TWOSCOMPLEMENT)
Sat 14:56: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Sat 14:56: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Sat 14:56: coeffOnChip = true
Sat 14:56: Input height = 2, output height = 2, pad = 1
Sat 14:56: Counter H = 4 W = 4
Sat 14:56: oh is dfeFix(32, 0, TWOSCOMPLEMENT)
Sat 14:56: ow is dfeFix(32, 0, TWOSCOMPLEMENT)
Sat 14:56: Ifmap buffer configuration 16 x 1
Sat 14:56: loop = false
Sat 14:56: Building line buffer for "conv1" ...
Sat 14:56: Line buffer shape 3 x 2, produces 1 number of 3 x 3 tiles per cycle
Sat 14:56: Line buffer input vector size: 1, output vector size: 9.
Sat 14:56: Number of separated line buffers: 1
Sat 14:56: Initialising line buffer kernel with 3 x 4 x 1
Sat 14:56: Size of line buffer output: 3
Sat 14:56: Number of line buffer output chunks: 3
Sat 14:56: Connecting outputs from chunk (#000) ...
Sat 14:56: Connecting outputs from chunk (#001) ...
Sat 14:56: Connecting outputs from chunk (#002) ...
Sat 14:56: Read for key = conv1 depth = 4
Sat 14:56: ROM created for conv1 of depth 4 and type {DFEVectorType: 9 x dfeFix(16, 0, TWOSCOMPLEMENT)}: com.maxeler.maxcompiler.v2.kernelcompiler.stdlib.memory.Memory@4af0df05
Sat 14:56: Building the CORE arithmetic unit for "conv1" ...
Sat 14:56: WT = dfeFix(16, 0, TWOSCOMPLEMENT)
Sat 14:56: CORE ifmap vector size: 9
Sat 14:56: CORE coefficient vector size: 9
Sat 14:56: CORE ofmap vector size: 1
Sat 14:56: Residual buffer depth = 4
Sat 14:56: [ConvLayerOfmapBuffer] depth =     8 addr_bits =     3
Sat 14:56: Connecting to output: ofmap
Sat 14:56: Compiling kernel "conv1"
Sat 14:56: 
Sat 14:56: Generating padding kernels for DRAM access
Sat 14:56: Instantiating kernel "ifmap_unpad"
Sat 14:56: Compiling kernel "ifmap_unpad"
Sat 14:56: 
Sat 14:56: Instantiating kernel "ofmap_pad"
Sat 14:56: Compiling kernel "ofmap_pad"
Sat 14:56: 
Sat 14:56: Setting up stream connections for conv0
Sat 14:56: Setting up stream connections for conv1
Sat 14:56: DRAM will be used to build the design
Sat 14:56: Setup streams for kernel "conv0"
Sat 14:56: # cycles:       64
Sat 14:56: # ifmap stream: 8
Sat 14:56: # coeff stream: 36
Sat 14:56: # ofmap stream: 8
Sat 14:56: coeff vec size: 9
Sat 14:56: coeff stream bit width: 144
Sat 14:56: coeff stream chunk size: 9
Sat 14:56: Setup streams for kernel "conv1"
Sat 14:56: # cycles:       64
Sat 14:56: # ifmap stream: 8
Sat 14:56: # coeff stream: 36
Sat 14:56: # ofmap stream: 8
Sat 14:56: coeff vec size: 9
Sat 14:56: coeff stream bit width: 144
Sat 14:56: coeff stream chunk size: 9
Sat 14:56: Running back-end simulation build (3 phases)
Sat 14:56: (1/3) - Prepare MaxFile Data (GenerateMaxFileDataFile)
Sat 14:56: (2/3) - Compile Simulation Modules (SimCompilePass)
Sat 14:56: (3/3) - Generate MaxFile (AddSimObjectToMaxFilePass)
Sat 14:56: MaxFile: /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Residual_MAIA_DFE_SIM_FREQ_350/results/Residual.max (MD5Sum: e56142898c00bb5026f32b372c93fd14)
Sat 14:56: Build completed: Sat Dec 25 14:56:48 GMT 2021 (took 16 secs)
cp /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Residual_MAIA_DFE_SIM_FREQ_350/results/Residual.h /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Residual_MAIA_DFE_SIM_FREQ_350/results/Maxfiles.h
sliccompile /mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Residual_MAIA_DFE_SIM_FREQ_350/results/Residual.max Residual_FREQ_350_sim.o
Processing maxfile for MAX5_LIMA_SIM from '/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Residual_MAIA_DFE_SIM_FREQ_350/results/Residual.max'.
/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/clang/bin/start.sh clang -fgnu89-inline -pipe -O0 -std=gnu99 -Wall -Werror -frandom-seed=foo -Wno-unused-variable -Wno-unused-function -fPIC -I /vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -DMAXFILE_INC="/dev/null" -DSLIC_NO_DESTRUCTORS -c /tmp/sliccompile_6737383321539554833/cobject/max_8809690517062869980.c -o /tmp/sliccompile_6737383321539554833/cobject/max_8809690517062869980.c.o 
/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/clang/bin/start.sh clang -fgnu89-inline -pipe -O0 -std=gnu99 -Wall -Werror -frandom-seed=foo -Wno-unused-variable -Wno-unused-function -fPIC -I /vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -DMAXFILE_INC="/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Residual_MAIA_DFE_SIM_FREQ_350/results/Residual.max" -DSLIC_NO_DESTRUCTORS -c /vol/cc/opt/maxeler/maxcompiler-2021.1/src/slicinterface/MaxFileInit.c -o max_2993653415975399297.o 
ld -r /tmp/sliccompile_6737383321539554833/cobject/max_8809690517062869980.c.o max_2993653415975399297.o -o Residual_FREQ_350_sim.o 
Copying .max file C object into '/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/residual'
g++ ../../src/residual/ResidualCpuCode.cpp -fopenmp -lrt -D_GLIBCXX_USE_CXX11_ABI=0 -O3 -std=c++11  -Wall -I/mnt/ccnas2/bdp/rz3515/cccad/opt/include -I/usr/local/include -I../src -I../src/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/runtime/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -I/lib/maxeleros-sim/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/lib/dfe-snippets/include -D_XOPEN_SOURCE=600 -DDESIGN_   -g -I/mnt/ccnas2/bdp/rz3515/maxcompiler_builds/Residual_MAIA_DFE_SIM_FREQ_350/results -D__SIM__ -DDESIGN_NAME=Residual -c -o Residual_FREQ_350_simc.o
g++ -fopenmp -lrt -D_GLIBCXX_USE_CXX11_ABI=0 -O3 -std=c++11  -Wall -I/mnt/ccnas2/bdp/rz3515/cccad/opt/include -I/usr/local/include -I../src -I../src/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/runtime/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include -I/vol/cc/opt/maxeler/maxcompiler-2021.1/include/slic -I/lib/maxeleros-sim/include -I/mnt/ccnas2/bdp/rz3515/projects/deacon/lib/dfe-snippets/include -D_XOPEN_SOURCE=600 -DDESIGN_   -g -o Residual_FREQ_350_sim Residual_FREQ_350_sim.o Residual_FREQ_350_simc.o -L/mnt/ccnas2/bdp/rz3515/cccad/opt/lib -L/vol/cc/opt/maxeler/maxcompiler-2021.1/lib -L/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/maxeleros-sim/lib -L/lib/maxeleros-sim/lib -L./ -lmaxeleros -lglog -lgflags -lslic -lm -lpthread -lcurl
maxcompilersim -n rz3515a -cLIMA -d1 restart

Simulated system 'rz3515a' started:
    Board:                   MAX5C (default: 48GB RAM)
    RAM size for simulation: 51539607552 bytes.
    Temporary RAM file in    /tmp/. (Use option -k to preserve it.)
    Simulation log:          /homes/rz3515/.maxcompilersim/rz3515a-cccad5.log
    Daemon log:              /homes/rz3515/.maxcompilersim/rz3515a-cccad5_daemon.log

Simulated devices available:
    rz3515a0:rz3515a

To use simulated devices you need to set the environment variables
LD_PRELOAD and MAXELEROSDIR. As LD_PRELOAD must not contain spaces,
you might need to set LD_LIBRARY_PATH in addition (see the MaxCompiler
tutorial for details).  Also, ensure that you add the correct simulated
system name (namely "rz3515a") to your SLiC configuration. The following
examples assume there are no spaces in LD_PRELOAD or SLIC_CONF.
Example for BASH:
    export MAXELEROSDIR=$MAXCOMPILERDIR/lib/maxeleros-sim
    export LD_PRELOAD=$MAXELEROSDIR/lib/libmaxeleros.so:$LD_PRELOAD
    export SLIC_CONF="$SLIC_CONF;use_simulation=rz3515a"
Example for CSH:
    setenv MAXELEROSDIR $MAXCOMPILERDIR/lib/maxeleros-sim
    setenv LD_PRELOAD $MAXELEROSDIR/lib/libmaxeleros.so:$LD_PRELOAD
    setenv SLIC_CONF "$SLIC_CONF;use_simulation=rz3515a"

SLIC_CONF+="default_maxdebug_mode=MAX_DEBUG_ALWAYS;" SLIC_CONF+="use_simulation=rz3515a" LD_PRELOAD=/vol/cc/opt/maxeler/maxcompiler-2021.1/lib/maxeleros-sim/lib/libmaxeleros.so ./Residual_FREQ_350_sim -n 2 -f /mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/residual/data/data-residual.txt -g
make stopsim
make[1]: Entering directory `/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/residual'
maxcompilersim -n rz3515a -cLIMA stop
Terminating MaxelerOS daemon (PID 263809)...
MaxelerOS daemon killed
Terminating simulated system (PID 263802)...
Simulated system killed
make[1]: Leaving directory `/mnt/ccnas2/bdp/rz3515/projects/deacon/evaluation/test/build/residual'
